<!DOCTYPE html>
<html class="dark" lang="en">
  <head>
    <meta charset="utf-8" />
    <script src="app-config.js"></script>
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>Math Admin - Edit Quiz</title>
    <link href="https://fonts.googleapis.com" rel="preconnect" />
    <link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect" />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700;900&amp;family=Noto+Sans:wght@400;500;700;900&amp;display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&amp;display=swap"
      rel="stylesheet"
    />
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <script id="tailwind-config">
      tailwind.config = {
        darkMode: "class",
        theme: {
          extend: {
            colors: {
              primary: "#135bec",
              "background-light": "#f6f6f8",
              "background-dark": "#111722",
              "surface-dark": "#1c2536",
              "input-dark": "#232f48",
            },
            fontFamily: {
              display: ["Inter", "Noto Sans", "sans-serif"],
              body: ["Inter", "Noto Sans", "sans-serif"],
            },
            borderRadius: {
              DEFAULT: "0.25rem",
              lg: "0.5rem",
              xl: "0.75rem",
              full: "9999px",
            },
          },
        },
      };
    </script>
    <style>
      body {
        font-family: "Inter", sans-serif;
      }
      .dark ::-webkit-scrollbar {
        width: 8px;
        height: 8px;
      }
      .dark ::-webkit-scrollbar-track {
        background: #111722;
      }
      .dark ::-webkit-scrollbar-thumb {
        background: #232f48;
        border-radius: 4px;
      }
      .dark ::-webkit-scrollbar-thumb:hover {
        background: #3b4c6e;
      }
    </style>
  </head>
  <body
    class="bg-background-light dark:bg-background-dark text-slate-900 dark:text-white antialiased overflow-hidden h-screen flex"
  >
    <div class="flex h-full w-full overflow-hidden">
      <aside
        class="w-64 flex-shrink-0 bg-[#111722] border-r border-[#232f48] flex flex-col h-full hidden md:flex z-20"
      >
        <div class="p-6 flex items-center gap-3">
          <div
            class="bg-center bg-no-repeat aspect-square bg-cover rounded-full size-10"
            data-alt="Abstract geometric avatar representing a math administrator"
            style="
              background-image: url('https://lh3.googleusercontent.com/aida-public/AB6AXuCQpPMjGlf5yofgYRXIB_t1z1nzUnaHMrOyF4jhV5IRESkJqJydKtX8wXjYNX8fPqM3-S573PpU-lQQPx9lpNswJE-D7WxTIX7X26vj3zs4C1ojjCKBWvAQo-QBiXedB8P4Tep1MDOkw4NSuLruUpCFWHjJtqPXOMsoBlh4gqPKx6Ie1UcdgKDf13uiELjEyrRm3aj9oe2pwxKrrUIbDD50nfqHJtjW-7IPOIYrhq9KpcVfOZMCJq70mXtHdUoYM4Jl_Yh6W2ZF2fk');
            "
          ></div>
          <div class="flex flex-col">
            <h1 class="text-white text-base font-bold leading-normal">
              Math Admin
            </h1>
            <p class="text-[#92a4c9] text-xs font-normal leading-normal">
              Administrator
            </p>
          </div>
          <div class="h-56"></div>
        </div>
        <nav class="flex-1 overflow-y-auto px-4 py-2 flex flex-col gap-2">
          <a
            class="flex items-center gap-3 px-3 py-2.5 rounded-lg text-[#92a4c9] hover:bg-[#232f48] hover:text-white transition-colors group"
            href="admin-dashboard.html"
          >
            <span
              class="material-symbols-outlined text-[#92a4c9] group-hover:text-white"
              >dashboard</span
            >
            <span class="text-sm font-medium">Dashboard</span>
          </a>
          <a
            class="flex items-center gap-3 px-3 py-2.5 rounded-lg text-[#92a4c9] hover:bg-[#232f48] hover:text-white transition-colors group"
            href="manage-lessons.html"
          >
            <span
              class="material-symbols-outlined text-[#92a4c9] group-hover:text-white"
              >book_2</span
            >
            <span class="text-sm font-medium">Manage Lessons</span>
          </a>
          <a
            class="flex items-center gap-3 px-3 py-2.5 rounded-lg bg-[#232f48] text-white transition-colors"
            href="manage-quizzes.html"
          >
            <span
              class="material-symbols-outlined text-primary"
              style="font-variation-settings: 'FILL' 1"
              >quiz</span
            >
            <span class="text-sm font-medium">Manage Quizzes</span>
          </a>
          <a
            class="flex items-center gap-3 px-3 py-2.5 rounded-lg text-[#92a4c9] hover:bg-[#232f48] hover:text-white transition-colors group"
            href="manage-users.html"
          >
            <span
              class="material-symbols-outlined text-[#92a4c9] group-hover:text-white"
              >group</span
            >
            <span class="text-sm font-medium">Users Management</span>
          </a>
          <a
            class="flex items-center gap-3 px-3 py-2.5 rounded-lg text-[#92a4c9] hover:bg-[#232f48] hover:text-white transition-colors group"
            href="admin-leaderboard.html"
          >
            <span
              class="material-symbols-outlined text-[#92a4c9] group-hover:text-white"
              >leaderboard</span
            >
            <span class="text-sm font-medium">Leaderboard</span>
          </a>
        </nav>
        <div class="p-4 border-t border-[#232f48]">
          <button id="admin-signout" class="flex items-center gap-3 px-3 py-2 text-[#92a4c9] hover:text-white w-full">
            <span class="material-symbols-outlined">logout</span>
            <span class="text-sm font-medium">Log Out</span>
          </button>
        </div>
      </aside>
      <main class="flex flex-1 flex-col overflow-hidden">
        <header
          class="h-16 flex items-center justify-between px-6 lg:px-8 border-b border-slate-200 dark:border-slate-800 bg-surface-light/80 dark:bg-[#111722]/80 backdrop-blur-sm z-10"
        >
          <div class="hidden md:flex flex-1 max-w-md">
            <div class="relative w-full">
              <span
                class="absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 dark:text-slate-500"
              >
                <span class="material-symbols-outlined text-[20px]"
                  >search</span
                >
              </span>
              <input
                class="w-full bg-slate-100 dark:bg-slate-800/50 border-none rounded-lg py-2 pl-10 pr-4 text-sm text-slate-900 dark:text-white placeholder:text-slate-400 focus:ring-2 focus:ring-primary/50"
                placeholder="Search for lessons, users, or topics..."
                type="text"
              />
            </div>
          </div>
          <button class="md:hidden p-2 text-slate-600 dark:text-white">
            <span class="material-symbols-outlined">menu</span>
          </button>
          <div class="flex items-center gap-4 ml-auto">
            <button
              class="flex items-center justify-center rounded-lg h-9 w-9 hover:bg-slate-100 dark:hover:bg-slate-800 text-slate-500 dark:text-slate-400 transition-colors"
            >
              <span class="material-symbols-outlined text-[20px]"
                >light_mode</span
              >
            </button>
            <button
              class="flex items-center justify-center rounded-lg h-9 w-9 hover:bg-slate-100 dark:hover:bg-slate-800 text-slate-500 dark:text-slate-400 transition-colors relative"
            >
              <span class="material-symbols-outlined text-[20px]"
                >notifications</span
              >
              <span
                class="absolute top-2 right-2.5 w-2 h-2 bg-red-500 rounded-full border-2 border-white dark:border-[#111722]"
              ></span>
            </button>
            <div class="h-8 w-px bg-slate-200 dark:bg-slate-700 mx-2"></div>
            <button
              class="flex items-center gap-3 hover:bg-slate-50 dark:hover:bg-slate-800/50 rounded-full pl-1 pr-3 py-1 transition-colors border border-transparent hover:border-slate-200 dark:hover:border-slate-700"
            >
              <div
                class="bg-center bg-no-repeat bg-cover rounded-full size-8 border border-slate-200 dark:border-slate-700 shadow-sm"
                style="
                  background-image: url(&quot;https://lh3.googleusercontent.com/aida-public/AB6AXuDb5RUo_0GsFFqVX_ermJe-MjZS5E_hJ36xTzi830pIerkSR1_OFUsklCmmY_YNoV7pIzjneYjNEEptT5lIKtA6aVyYUsjKUPb4GB_hdF3RQb_y5-FmK9cqRjzZZ0KBlVO1xVlhxFbBrfKEwC6o45XmaWGgZZKyq874AxSjMswHutMt6ubHOo7dmGL6QXw7Hbg4Xi8dVVdHaqdHtzDBuuj96I4msprIyycnVo83-KL_0BUQbZh_PrZ1lNUkzwPuVMkRcrJsZSv5qBU&quot;);
                "
              ></div>
              <div class="hidden lg:flex flex-col items-start text-xs">
                <span class="font-semibold text-slate-900 dark:text-white"
                  >Admin User</span
                >
                <span class="text-slate-500 dark:text-slate-400"
                  >Administrator</span
                >
              </div>
              <span class="material-symbols-outlined text-[16px] text-slate-400"
                >expand_more</span
              >
            </button>
          </div>
        </header>
        <div class="flex-1 overflow-y-auto p-4 md:p-8 pb-[220px]">
          <div
            class="flex flex-col md:flex-row justify-between items-start md:items-center gap-4"
          >
            <div class="flex flex-col gap-1">
              <h1
                id="quiz-title-header"
                class="text-slate-900 dark:text-white text-3xl font-black tracking-tight"
              >
                Edit Quiz: Algebra Basics
              </h1>
              <p
                id="quiz-last-modified"
                class="text-slate-500 dark:text-[#92a4c9] text-sm"
              >
                Last modified: --
              </p>
            </div>
            <div class="flex gap-3">
              <button
                id="delete-quiz-btn"
                class="flex items-center justify-center h-10 px-4 rounded-lg bg-red-500/10 text-red-600 dark:text-red-400 hover:bg-red-500/20 text-sm font-bold transition-colors"
              >
                <span class="material-symbols-outlined text-[18px] mr-2"
                  >delete</span
                >
                Delete
              </button>
            </div>
          </div>
          <div
            class="rounded-xl bg-white dark:bg-[#1c2536] border border-slate-200 dark:border-[#232f48] p-6 shadow-sm"
          >
            <div
              class="flex items-center gap-2 mb-6 border-b border-slate-200 dark:border-[#232f48] pb-4"
            >
              <span class="material-symbols-outlined text-primary">tune</span>
              <h3 class="text-lg font-bold text-slate-900 dark:text-white">
                General Information
              </h3>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
              <div class="col-span-1 md:col-span-2">
                <label
                  class="block text-slate-500 dark:text-[#92a4c9] text-sm font-medium mb-2"
                  >Quiz Title</label
                >
                <input
                  id="quiz-title"
                  class="w-full bg-slate-50 dark:bg-[#232f48] border-slate-200 dark:border-none rounded-lg text-slate-900 dark:text-white px-4 py-3 focus:ring-2 focus:ring-primary placeholder-slate-400 dark:placeholder-[#586b8f] title"
                  type="text"
                  
                />
              </div>
              <div>
                <label
                  class="block text-slate-500 dark:text-[#92a4c9] text-sm font-medium mb-2"
                  >Grade Level</label
                >
                <div class="relative">
                  <select
                    id="quiz-grade"
                    class="w-full bg-slate-50 dark:bg-[#232f48] border-slate-200 dark:border-none rounded-lg text-slate-900 dark:text-white px-4 py-3 pr-10 appearance-none focus:ring-2 focus:ring-primary"
                  >
                    <option value="5">Grade 5</option>
                    <option value="6">Grade 6</option>
                    <option value="7">Grade 7</option>
                    <option value="8">Grade 8</option>
                    <option value="9" selected>Grade 9</option>
                  </select>
                  <span
                    class="material-symbols-outlined absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 dark:text-[#92a4c9] pointer-events-none"
                    >expand_more</span
                  >
                </div>
              </div>

              <div>
                <label
                  class="block text-slate-500 dark:text-[#92a4c9] text-sm font-medium mb-2"
                  >Time Limit (minutes)</label
                >
                <div class="relative">
                  <input id="quiz-time-limit" type="number" min="0" step="1" value="0"
                    class="w-full bg-slate-50 dark:bg-[#232f48] border-slate-200 dark:border-none rounded-lg text-slate-900 dark:text-white px-4 py-3 focus:ring-2 focus:ring-primary placeholder-slate-400" />
                </div>
              </div>

            </div>
          </div>
          <div class="flex flex-col gap-4 mt-6">
            <div class="flex justify-between items-end px-1">
              <h3
                class="text-xl font-bold text-slate-900 dark:text-white flex items-center gap-2"
              >
                <span class="material-symbols-outlined text-primary"
                  >format_list_numbered</span
                >
                <span id="question-count">Questions (0)</span>
              </h3>
              <a
                href="#new-question-panel"
                class="text-primary text-sm font-bold hover:text-primary/80 transition-colors flex items-center gap-1"
              >
                <span class="material-symbols-outlined text-[18px]"
                  >add_circle</span
                >
                Add New Question
              </a>
            </div>
            <div id="existing-questions" class="flex flex-col gap-4"></div>
            <div
              id="new-question-panel"
              class="rounded-xl bg-white dark:bg-[#1c2536] border border-slate-200 dark:border-[#232f48] p-6 shadow-sm"
            >
              <div
                class="flex items-center gap-2 mb-6 border-b border-slate-200 dark:border-[#232f48] pb-4"
              >
                <span class="material-symbols-outlined text-primary"
                  >add_circle</span
                >
                <h3 class="text-lg font-bold text-slate-900 dark:text-white">
                  Add New Question
                </h3>
              </div>
              <div class="flex flex-col gap-6">
                <div>
                  <label
                    class="block text-slate-500 dark:text-[#92a4c9] text-xs uppercase font-bold tracking-wider mb-2"
                    >Question Type</label
                  >
                  <div class="relative">
                    <select
                      id="new-question-type"
                      class="w-full bg-slate-50 dark:bg-[#232f48] border border-slate-200 dark:border-[#232f48] rounded-lg text-slate-900 dark:text-white px-4 py-3 pr-10 appearance-none focus:ring-2 focus:ring-primary"
                    >
                      <option value="text" selected>Text Question</option>
                      <option value="image">Image Question</option>
                    </select>
                    <span
                      class="material-symbols-outlined absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 dark:text-[#92a4c9] pointer-events-none"
                      >expand_more</span
                    >
                  </div>
                </div>
                <div id="new-text-wrapper">
                  <label
                    class="block text-slate-500 dark:text-[#92a4c9] text-xs uppercase font-bold tracking-wider mb-2"
                    >Question Text</label
                  >
                  <textarea
                    id="new-question-text"
                    class="w-full bg-slate-50 dark:bg-[#111722] border border-slate-200 dark:border-[#232f48] rounded-lg text-slate-900 dark:text-white px-4 py-3 focus:ring-1 focus:ring-primary focus:border-primary placeholder-slate-400 dark:placeholder-[#586b8f] font-mono text-sm leading-relaxed"
                    rows="3"
                    placeholder="Type the new question here..."
                  ></textarea>
                </div>
                <div
                  id="new-image-wrapper"
                  class="hidden rounded-lg bg-slate-50 dark:bg-[#111722] border border-dashed border-slate-300 dark:border-[#232f48] p-6"
                >
                  <div class="flex flex-col gap-4">
                    <div class="flex items-center justify-between">
                      <div>
                        <p
                          class="text-slate-900 dark:text-white text-sm font-medium"
                        >
                          Image Question
                        </p>
                        <p class="text-slate-500 dark:text-[#92a4c9] text-xs">
                          Upload a clear image or diagram for this question.
                        </p>
                      </div>
                      <button
                        id="new-image-trigger"
                        type="button"
                        class="text-primary text-xs font-bold hover:underline"
                      >
                        Upload Image
                      </button>
                      <input
                        id="new-image"
                        type="file"
                        accept="image/*"
                        class="hidden"
                      />
                    </div>
                    <div
                      class="w-full rounded-xl border border-slate-200 dark:border-[#232f48] bg-white/60 dark:bg-[#0f1724] overflow-hidden"
                    >
                      <button
                        id="new-image-empty"
                        type="button"
                        class="h-64 md:h-72 w-full flex items-center justify-center text-slate-400 dark:text-[#92a4c9]"
                      >
                        <div class="flex flex-col items-center gap-2">
                          <span class="material-symbols-outlined text-3xl"
                            >image</span
                          >
                          <span class="text-xs font-medium"
                            >No image selected</span
                          >
                        </div>
                      </button>
                      <img
                        id="new-image-preview"
                        alt="Selected question"
                        class="hidden h-64 md:h-72 w-full object-contain bg-white dark:bg-[#0f1724]"
                      />
                    </div>
                  </div>
                </div>
                <div>
                  <div class="flex justify-between items-center mb-3">
                    <label
                      class="block text-slate-500 dark:text-[#92a4c9] text-xs uppercase font-bold tracking-wider"
                      >Answer Options</label
                    >
                    <span
                      id="new-options-help"
                      class="text-slate-500 dark:text-[#92a4c9] text-xs"
                      >Options are editable (Text Question)</span
                    >
                  </div>
                  <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <button
                      data-answer="A"
                      class="new-answer-option w-full text-left flex items-center gap-3 bg-slate-50 dark:bg-[#111722] p-3 rounded-lg border border-primary ring-2 ring-primary/30 transition-colors"
                    >
                      <div class="flex-1">
                        <span
                          class="text-primary text-xs font-bold mb-1 block"
                          >Option A</span
                        >
                        <input
                          id="opt-a"
                          class="new-option-input w-full bg-transparent border-none text-slate-900 dark:text-white p-0 focus:ring-0 placeholder-slate-400 dark:placeholder-[#34425e] font-medium"
                          type="text"
                          placeholder="Option A"
                        />
                        <div
                          id="opt-a-fixed"
                          class="hidden text-slate-900 dark:text-white font-medium"
                        >
                          A
                        </div>
                      </div>
                      <span class="material-symbols-outlined text-primary text-sm"
                        >check_circle</span
                      >
                    </button>
                    <button
                      data-answer="B"
                      class="new-answer-option w-full text-left flex items-center gap-3 bg-slate-50 dark:bg-[#111722] p-3 rounded-lg border border-slate-200 dark:border-[#232f48] transition-colors"
                    >
                      <div class="flex-1">
                        <span
                          class="text-slate-500 dark:text-[#586b8f] text-xs font-bold mb-1 block"
                          >Option B</span
                        >
                        <input
                          id="opt-b"
                          class="new-option-input w-full bg-transparent border-none text-slate-900 dark:text-white p-0 focus:ring-0 placeholder-slate-400 dark:placeholder-[#34425e] font-medium"
                          type="text"
                          placeholder="Option B"
                        />
                        <div
                          id="opt-b-fixed"
                          class="hidden text-slate-900 dark:text-white font-medium"
                        >
                          B
                        </div>
                      </div>
                    </button>
                    <button
                      data-answer="C"
                      class="new-answer-option w-full text-left flex items-center gap-3 bg-slate-50 dark:bg-[#111722] p-3 rounded-lg border border-slate-200 dark:border-[#232f48] transition-colors"
                    >
                      <div class="flex-1">
                        <span
                          class="text-slate-500 dark:text-[#586b8f] text-xs font-bold mb-1 block"
                          >Option C</span
                        >
                        <input
                          id="opt-c"
                          class="new-option-input w-full bg-transparent border-none text-slate-900 dark:text-white p-0 focus:ring-0 placeholder-slate-400 dark:placeholder-[#34425e] font-medium"
                          type="text"
                          placeholder="Option C"
                        />
                        <div
                          id="opt-c-fixed"
                          class="hidden text-slate-900 dark:text-white font-medium"
                        >
                          C
                        </div>
                      </div>
                    </button>
                    <button
                      data-answer="D"
                      class="new-answer-option w-full text-left flex items-center gap-3 bg-slate-50 dark:bg-[#111722] p-3 rounded-lg border border-slate-200 dark:border-[#232f48] transition-colors"
                    >
                      <div class="flex-1">
                        <span
                          class="text-slate-500 dark:text-[#586b8f] text-xs font-bold mb-1 block"
                          >Option D</span
                        >
                        <input
                          id="opt-d"
                          class="new-option-input w-full bg-transparent border-none text-slate-900 dark:text-white p-0 focus:ring-0 placeholder-slate-400 dark:placeholder-[#34425e] font-medium"
                          type="text"
                          placeholder="Option D"
                        />
                        <div
                          id="opt-d-fixed"
                          class="hidden text-slate-900 dark:text-white font-medium"
                        >
                          D
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <input id="new-answer-select" type="hidden" value="A" />
                <div class="flex justify-end">
                  <button
                    id="add-question-btn"
                    class="h-10 px-6 rounded-lg bg-primary hover:bg-primary/90 text-white font-bold text-sm shadow-lg shadow-primary/20 transition-all transform active:scale-95"
                  >
                    Add Question
                  </button>
                </div>
              </div>
          </div>
          </div>
        </div>
        <div
          class="fixed bottom-0 left-0 right-0 md:left-64 bg-white/95 dark:bg-[#1c2536]/95 border-t border-slate-200 dark:border-[#232f48] p-4 flex items-center justify-between gap-4 z-40 shadow-[0_-5px_20px_rgba(0,0,0,0.05)] dark:shadow-[0_-5px_20px_rgba(0,0,0,0.3)] backdrop-blur"
        >
          <div class="flex flex-col">
            <div
              id="quiz-save-status"
              class="text-xs text-slate-500 dark:text-[#92a4c9]"
            >
              All changes saved
            </div>
            <div
              id="quiz-last-saved"
              class="text-[11px] text-slate-400 dark:text-[#7f91b3]"
            >
              Last saved: --
            </div>
          </div>
          <div class="flex gap-4">
            <button
              id="save-quiz-changes"
              class="h-10 px-6 rounded-lg bg-primary hover:bg-primary/90 text-white font-bold text-sm shadow-lg shadow-primary/20 transition-all transform active:scale-95"
            >
              Save Changes
            </button>
          </div>
        </div>
      </main>
    </div>

    <script type="module" src="./js/admin-layout.js"></script>
    <script type="module" src="./js/edit-quiz.js"></script>
      <script type="module" src="./js/theme.js"></script>
  </body>
</html>

