<!doctype html>
<html class="dark" lang="en">
  <head>
    <meta charset="utf-8" />
    <script src="/app-config.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Math-Falta - Quiz Results</title>

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Lexend:wght@100..900&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&display=swap"
      rel="stylesheet"
    />

    <!-- Tailwind -->
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <script>
      tailwind.config = {
        darkMode: "class",
        theme: {
          extend: {
            colors: {
              primary: "#135bec",
              "background-light": "#f6f6f8",
              "background-dark": "#101622",
              "surface-dark": "#1e2229",
              "surface-light": "#ffffff",
            },
            fontFamily: {
              display: ["Lexend", "sans-serif"],
            },
            borderRadius: {
              DEFAULT: "0.25rem",
              lg: "0.5rem",
              xl: "0.75rem",
              full: "9999px",
            },
          },
        },
      };
    </script>

    <style>
      body {
        font-family: "Lexend", sans-serif;
      }
      .no-scrollbar::-webkit-scrollbar {
        display: none;
      }
      .no-scrollbar {
        -ms-overflow-style: none;
        scrollbar-width: none;
      }
    </style>
  </head>

  <body
    class="bg-background-light dark:bg-background-dark text-slate-900 dark:text-white transition-colors duration-200"
  >
    <div class="relative flex min-h-screen w-full flex-col overflow-hidden">
      <!-- Header -->
      <header data-inject-header></header>
      <script type="module" src="/js/header.js"></script>

      <!-- Main -->
      <main
        class="flex-1 flex flex-col w-full max-w-[1440px] mx-auto p-4 md:p-6 lg:p-8 gap-6"
      >
        <!-- Page Title -->
        <div class="flex flex-col gap-1">
          <h1 class="text-3xl font-bold tracking-tight">Quiz Results</h1>
          <p class="text-slate-500 dark:text-slate-400 text-sm">
            Review your past performance and analyze your strengths.
          </p>
        </div>

        <!-- Layout -->
        <div class="flex flex-col lg:flex-row gap-6 flex-1 overflow-hidden">
          <!-- Sidebar: Past Quizzes -->
          <aside
            class="w-full lg:w-[360px] flex flex-col gap-4 overflow-hidden"
          >
            <!-- Search -->
            <div class="relative w-full md:w-72">
              <span
                class="material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"
                >search</span
              >
              <input
                id="quiz-search"
                type="text"
                placeholder="Search past quizzes..."
                class="w-full bg-white dark:bg-[#192233] rounded-xl py-2.5 pl-10 pr-4 text-sm text-slate-900 dark:text-white placeholder-slate-400 outline-none focus:outline-none focus:ring-0 transition-all"
              />
            </div>

            <!-- ✅ Quiz History List -->
            <div
              id="quiz-history-list"
              class="flex-1 overflow-y-auto no-scrollbar flex flex-col gap-3 pr-1 pb-10"
            >
              <!-- quiz-result.js will inject items here -->
            </div>
          </aside>

          <!-- Main Content -->
          <section
            class="flex-1 flex flex-col bg-surface-light dark:bg-surface-dark rounded-2xl border border-gray-200 dark:border-[#324467] overflow-hidden shadow-sm"
          >
            <!-- Quiz Summary Header -->
            <div
              id="quiz-summary"
              class="p-6 border-b border-gray-200 dark:border-[#324467] flex flex-col sm:flex-row justify-between gap-4 bg-white/50 dark:bg-[#1e2229]"
            >
              <!-- JS will inject quiz title, score, date, retake button -->
            </div>

            <!-- ✅ Questions Review -->
            <div
              id="quiz-questions-review"
              class="flex-1 overflow-y-auto p-6 md:p-8 flex flex-col gap-8"
            >
              <!-- quiz-result.js will inject questions here -->
            </div>
          </section>
        </div>
      </main>
    </div>
    <!-- Image Zoom Modal -->
    <div
      id="image-zoom-modal"
      class="fixed inset-0 z-50 hidden items-center justify-center bg-black/70 backdrop-blur-sm"
    >
      <div class="relative max-w-[90vw] max-h-[90vh]">
        <button
          id="close-image-modal"
          class="absolute -top-10 right-0 text-white text-sm bg-black/60 px-3 py-1 rounded-lg hover:bg-black"
        >
          Close ✕
        </button>

        <img
          id="zoomed-image"
          class="max-w-full max-h-[90vh] object-contain rounded-xl shadow-2xl"
          src=""
          alt="Zoomed"
        />
      </div>
    </div>

    <!-- Scripts -->
    <script type="module" src="/js/theme.js"></script>
    <script type="module" src="/js/app.js"></script>
    <script type="module" src="/js/quiz-result.js"></script>
  </body>
</html>
